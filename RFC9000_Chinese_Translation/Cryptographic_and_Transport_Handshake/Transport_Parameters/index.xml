<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>7.4. 加密与传输握手 on Autumn Navigation</title>
    <link>/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/</link>
    <description>Recent content in 7.4. 加密与传输握手 on Autumn Navigation</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cn</language><atom:link href="/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>7.4.1. 0-RTT传输参数</title>
      <link>/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/7.4.1_Values_of_Transport_Parameters_for_0_RTT/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/7.4.1_Values_of_Transport_Parameters_for_0_RTT/</guid>
      <description>是否使用0-RTT取决于客户端和服务端使用的传输参数是否由同一个旧连接协商的。 为了开启0-RTT，终端需要保存服务端传输参数的值及在连接上收到的任何会话票据（session ticket）。 终端也需要保存其他任何应用协议或加密握手所需要的信息，详见[QUIC TLS]的第4.6章。 保存的传输参数的值在使用会话票据尝试进行0-RTT建连时使用。
保存的传输参数适用于新连接，直到握手完成，客户端开始发送1-RTT数据包为止。 一旦握手完成，客户端就启用握手过程中创建的传输参数。 不是所有的传输参数都需要保存，因为部分参数不会在后续连接中生效，或是在0-RTT建连期间不起作用。
定义新的传输参数（详见第7.4.2章）时，必须明确说明其作为0-RTT参数进行保存是否是强制性的、可选的，或必须禁止的。 客户端不需要保存一个其不能处理的传输参数。
客户端必须不使用下述参数的保存值：ack_delay_exponent、max_ack_delay、initial_source_connection_id、original_destination_connection_id、preferred_address、retry_source_connection_id，以及stateless_reset_token。 客户端必须使用握手期间服务端给出的新值。 如果服务端没有提供新的值，就使用默认值。
试图发送0-RTT数据的客户端必须保存所有其他服务端需要使用且可以处理的传输参数。 服务端可以保存这些传输参数，或在会话票据中保存这些参数值的一份具备完整性保护的备份，并在收到0-RTT数据后恢复其具体信息。
如果服务端收到了0-RTT数据，服务端必须不能放宽任何限制，或采用任何其他可能与客户端发来的0-RTT数据产生冲突的值。 尤其需要注意的是，服务端在接收0-RTT数据后，必须不 可为下述参数（详见18.2）设置一个低于保存值的值：
 active_connection_id_limit initial_max_data initial_max_stream_data_bidi_local initial_max_stream_data_bidi_remote initial_max_stream_data_uni initial_max_streams_bidi initial_max_streams_uni  删除特定传输参数，或为之设置一个零值，可能导致启用0-RTT数据但却不可用。 允许发送应用数据的传输参数的适当子集应该被设置为非零值，以支持0-RTT。 这包括：initial_max_data和（1）initial_max_streams_bidi及initial_max_stream_data_bidi_remote，或（2）initial_max_streams_uni及initial_max_stream_data_uni。
服务端可能给流设置的初始流控上限大于保存的0-RTT数据包中由客户端设置的值。 一旦握手完成，客户端必须根据更新后的initial_max_stream_data_bidi_remote及initial_max_stream_data_uni的值更新所有发送流的流控上限。
服务端可以保存并恢复先前发送的max_idle_timeout、max_udp_payload_size及disable_active_migration参数的值，以及在选择更小值后拒绝0-RTT。 当接收0-RTT数据可能同时降低连接性能时，调低这些参数的值。 特别是调低max_udp_payload_size可能导致丢包，导致性能与直接拒绝0-RTT数据相比变得更差。
当服务端不支持恢复后的值时，其必须拒绝0-RTT数据。
当在0-RTT数据包中发送帧时，客户端必须只使用保存的传输参数；更重要的是，它必须不能使用 服务端更新后的传输参数，或使用从1-RTT数据包接收到的帧。 在握手过程中传输参数更新的值只适用于1-RTT数据包。 例如，保存的传输参数中的流控上限值适用于所有的0-RTT数据包，即使这些值通过握手或通过1-RTT数据包发送的帧调大了。 服务端可以将在0-RTT数据中使用更新后的传输参数视为一个PROTOCOL_VIOLATION类型的连接错误。</description>
    </item>
    
    <item>
      <title>7.4.2. 新传输参数</title>
      <link>/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/7.4.2_New_Transport_Parameters/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Cryptographic_and_Transport_Handshake/Transport_Parameters/7.4.2_New_Transport_Parameters/</guid>
      <description>新传输参数可以用于协商新的协议行为。 终端必须忽略其不支持的传输参数。 缺失某个传输参数会因此禁用掉任何可选的、通过该参数协商的协议特性。 正如第18.1章所述，保留某些标识符是为了满足这个需求。
对于一个传输参数，如果客户端不能识别，则客户端可以将其丢弃，并尝试在随后的连接中尝试0-RTT。 然而，如果客户端对一个丢弃的传输参数添加了支持，那么其在尝试0-RTT时就有可能与传输参数设置的限制出现冲突。 新传输参数可以通过设置一个最保守的默认值避免该问题。 客户端可以通过保存所有参数避免该问题，即使其中一些参数目前尚不支持。
新传输参数根据第22.3章描述的规则进行注册。</description>
    </item>
    
  </channel>
</rss>
