<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>9.6 服务器的首选地址 on Autumn Navigation</title>
    <link>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/</link>
    <description>Recent content in 9.6 服务器的首选地址 on Autumn Navigation</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cn</language><atom:link href="/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>9.6.1 传达首选地址</title>
      <link>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.1_Communicating_a_Preferred_Address/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.1_Communicating_a_Preferred_Address/</guid>
      <description>服务器通过在TLS握手中包含传输参数preferred_address的方式传达首选地址。
服务器可以为每一种地址族（IPv4和IPv6）传达首选地址，以允许客户端选择一个最适合它们网络连接的地址。
一旦握手被确认，客户端就应该选择客户端提供的两个地址中的一个并发起地址验证（详见第8.2章）。客户端从传输参数preferred_address或新连接ID帧中获取并使用任何之前没用过的活跃连接ID来构建数据包。
只要路径验证通过，客户端就应该开始使用新连接ID向新服务器地址发送所有将来的数据包，并且不再使用旧服务器地址。如果地址验证失败，那么客户端必须将所有将来的数据包继续发到服务器的原始IP地址。</description>
    </item>
    
    <item>
      <title>9.6.2 迁移至首选地址</title>
      <link>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.2_Migration_to_a_Preferred_Address/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.2_Migration_to_a_Preferred_Address/</guid>
      <description>迁移至首选地址的客户端必须在迁移前验证它选择的地址，详见第21.5.3章。
服务器可能在接受一条连接后的任何时间接收到一个发到它的首选IP地址的数据包。如果这个数据包包含了通道挑战帧，那么服务器就要像第8.2章所描述的那样发送回复通道帧。服务器必须保持从它的原始地址发送非探测数据包，直到它在首选地址上接收到了来自客户端的非探测数据包并且它对新路径完成了验证。
服务器必须从它的首选地址探测通向客户端的路径。这有助于抵御由攻击者发起的虚假迁移。
一旦服务器完成了路径验证并且在首选地址上收到了具有新的最大数据包号的非探测数据包，它就开始仅仅从首选IP地址向客户端发送非探测数据包。如果服务器在旧IP地址上接收到了属于这条连接的更加新的数据包，那么服务器应该丢弃它们。服务器可以继续处理在旧IP地址上接收到的被延误的数据包。
服务器在传输参数preferred_address中提供的地址仅对提供地址时所处的连接有效。客户端必须不将它们用于其他连接，包括从当前连接恢复的连接。</description>
    </item>
    
    <item>
      <title>9.6.3 客户端迁移与首选地址的交互</title>
      <link>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.3_Interaction_of_Client_Migration_and_Preferred_Address/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Connection_Migration/Servers_Preferred_Address/9.6.3_Interaction_of_Client_Migration_and_Preferred_Address/</guid>
      <description>客户端可能想要在迁移到服务器的首选地址前先进行一次连接迁移。在这种情况下，客户端应该从它的新地址同时对原始的和首选的服务器地址进行路径验证。
如果对服务器首选地址的路径验证通过了，那么客户端必须放弃对原始地址的验证并且迁移至服务器的首选地址。如果对服务器首先地址的路径验证失败了但是对服务器原始地址的的验证成功了，那么客户端可以迁移到它的新地址，并且继续向服务器的原始地址发送数据。
如果在服务器的首选地址接收到的数据包有着与在握手期间观测到的值不同的客户端源地址，那么服务器必须如第9.3.1章和第9.3.2章描述的那样保护自己免受潜在的攻击。除了有意的同时迁移，这种情况还会因为客户端的网络在访问服务器首选地址时使用了不同的NAT绑定而发生。
服务器应该在接收到来自不同地址的探测数据包时向客户端的新地址发起路径验证，详见第8章。
迁移到新地址的客户端应该使用与服务器正使用的地址族一致的首选地址。
由传输参数preferred_address提供的连接ID不是特定于参数中提供的地址的。提供这个连接ID是为了客户端有一个可以用来迁移的连接ID，但客户端可以在任何路径上使用这个连接ID。</description>
    </item>
    
  </channel>
</rss>
