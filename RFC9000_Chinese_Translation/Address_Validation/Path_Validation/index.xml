<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>8.2 路径验证 on Autumn Navigation</title>
    <link>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/</link>
    <description>Recent content in 8.2 路径验证 on Autumn Navigation</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cn</language><atom:link href="/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>8.2.1 发起地址验证</title>
      <link>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.1_Initiating_Path_Validation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.1_Initiating_Path_Validation/</guid>
      <description>要发起路径验证，终端在要被验证的路径上发送一个包含不可预测的载荷的通道挑战帧。
终端可以发送多个通道挑战帧以抵御数据包丢包。然而，终端不应该使用同一个数据包发送这些通道挑战帧。
在用包含通道挑战帧的数据包探测新路径时，终端不应该发送得比初始数据包还要频繁。这确保连接迁移不会比建立新连接施加更多负载给新路径。
终端必须在每个通道挑战帧中使用不可预测的数据以使得它能将对端的响应与对应的通道挑战帧关联起来。
终端必须将包含通道挑战帧的数据报扩充至至少1200字节，这个在允许的最大数据报尺寸中的最小值，除非那条路径的抗放大上限不允许发送那么大的数据报。发送这个尺寸的UDP数据报确保终端与对端间的网络路径能够承载QUIC数据包；详见第14章。
当终端因为抗放大上限而不能将数据报扩充至1200字节时，路径的MTU将不会被验证。为了确保路径的MTU足够大，终端必须通过在至少1200字节的数据报中发送通道挑战帧的方式进行第二次路径验证。这次额外的验证可以在回复通道帧被成功接收到之后再进行，也可以等到在路径上收到了足够数量的字节而使得发送一个大一点的数据包也不会超过抗放大上限的时候再进行。
不像其他需要扩充数据报的情况，如果数据报包含了通道挑战帧或回复通道帧，那么终端必须不丢弃看起来过小的数据报。</description>
    </item>
    
    <item>
      <title>8.2.2 路径验证的响应</title>
      <link>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.2_Path_Validation_Responses/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.2_Path_Validation_Responses/</guid>
      <description>当接收到通道挑战帧时，终端必须响应回复通道帧，并在其中回显通道挑战帧里的数据。除非被拥塞控制限制，终端必须不推迟传输包含回复通道帧的数据包。
回复通道帧必须在接收到通道挑战帧的网络路径上发送。这确保对端的路径验证仅当路径在两个方向上同时可用时才通过。这项要求必须不被发起路径验证的终端强制执行，因为这会使得针对迁移的攻击变为可能；详见第9.3.3章。
终端必须将包含回复通道帧的数据报扩充至至少1200字节，这个在允许的最大数据报尺寸中的最小值。这样就能验证这条路径在两个方向上都能够承载这个尺寸的数据报。然而如果产生的数据超过了抗放大上限，那么终端必须不扩充包含回复通道帧的数据报。这种情况应只会发生在接收到的通道挑战帧没有用扩充过的数据报发送时。
终端必须不在响应单个通道挑战帧时发送超过一个回复通道帧；详见第13.3章。对端应当根据需要发送更多通道挑战帧来唤起额外的回复通道帧。</description>
    </item>
    
    <item>
      <title>8.2.3 地址验证通过</title>
      <link>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.3_Successful_Path_Validation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.3_Successful_Path_Validation/</guid>
      <description>当接收到的回复通道帧包含着曾在通道挑战帧中发送的数据时，地址验证通过。在任何网络路径上接收到的回复通道帧所验证的路径都是发送通道挑战帧时使用的那条。
如果终端在一个未扩充至至少1200字节的数据报中发送通道挑战帧，并且它的响应验证了对端地址，那么该路径就是验证通过的，但这不包括路径的MTU。于是，终端现在可以发送超过已接收数据量三倍的数据。然而，终端必须使用经扩充的数据包发起另一次路径验证，来验证这条路径支持所需的MTU。
接收到对包含通道挑战帧的数据包的确认这一事实并不能作为合适的验证方法，因为确认可以是被恶意对端伪造出来的。</description>
    </item>
    
    <item>
      <title>8.2.4 地址验证失败</title>
      <link>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.4_Failed_Path_Validation/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/RFC9000_Chinese_Translation/Address_Validation/Path_Validation/8.2.4_Failed_Path_Validation/</guid>
      <description>仅当发起地址验证的终端放弃了验证地址的尝试时，地址验证失败。
终端应该基于倒计时放弃地址验证。在设置倒计时时，QUIC实现要注意新路径可能有着比原来的路径更长的往返时间。推荐使用的值是当前PTO和新路径PTO（使用《QUIC恢复》中定义的kInitialRtt）中的较大值的三倍。
这个倒计时使得在地址验证失败前可以经过数个PTO，于是一两个通道挑战帧或回复通道帧的丢包不会引起整个路径验证的失败。
注意，终端可能在新路径上接收到包含其他类型的帧的数据包，但是要使得路径验证通过，具有正确数据的回复通道帧是必需的。
当终端放弃地址验证时，它将这条路径认定为不可用。这不一定会暗示连接的失败——终端可以通过其他合适的路径继续发送数据包。如果没有路径可用，终端可以等待出现一条新的可用路径或关闭连接。没有通往对端的有效网络路径的终端可以用连接错误NO_VIABLE_PATH（无可行通道）来发送信号，不过这只有在有网络路径存在但是不支持所需的MTU（详见第14章）的情况下才可行。
地址验证可能因为除了失败外的其他原因而被放弃。这主要会发生在对旧路径进行验证期间发起了前往新路径的连接迁移时。</description>
    </item>
    
  </channel>
</rss>
